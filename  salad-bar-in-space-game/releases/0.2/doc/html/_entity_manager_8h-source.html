<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Bouncibility: C:/Users/chase/Desktop/game2/edge/bouncibility/include/EntityManager.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
<h1>C:/Users/chase/Desktop/game2/edge/bouncibility/include/EntityManager.h</h1><a href="_entity_manager_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="preprocessor">#pragma once</span>
<a name="l00002"></a>00002 <span class="preprocessor"></span><span class="preprocessor">#include "<a class="code" href="singleton_8h.html" title="Implementation of the CSingleton template class.">singleton.h</a>"</span>
<a name="l00003"></a>00003 
<a name="l00004"></a>00004 <span class="keyword">class </span><a class="code" href="class_world_entity.html">WorldEntity</a>;
<a name="l00005"></a>00005 <span class="keyword">class </span><a class="code" href="class_entity_manager.html" title="EntityManager provides an easy and organized way of retrieving entities that were...">EntityManager</a>;
<a name="l00006"></a>00006 
<a name="l00008"></a><a class="code" href="namespace_entity.html">00008</a> <span class="keyword">namespace </span>Entity{
<a name="l00009"></a>00009 
<a name="l00010"></a>00010         <span class="keyword">class </span><a class="code" href="class_entity_1_1_entity_factory.html" title="Base class for all factories in the system. Provides a loadEntity method given an...">EntityFactory</a>;
<a name="l00011"></a>00011         <span class="keyword">class </span><a class="code" href="class_entity_1_1_loader.html" title="Loader is used by EntityManager. It keeps track of the factories for each type. Types...">Loader</a>;
<a name="l00012"></a><a class="code" href="namespace_entity.html#cf602931d8e74e7403b5af795bdd3e9d">00012</a>         <span class="keyword">class </span><a class="code" href="class_entity_1_1_entity_info.html" title="EntityInfo is a data structure for storing the information about an entity loaded...">EntityInfo</a>;
<a name="l00013"></a>00013 
<a name="l00014"></a>00014         <span class="keyword">typedef</span> std::map&lt;std::string, EntityFactory*&gt; <a class="code" href="namespace_entity.html#cf602931d8e74e7403b5af795bdd3e9d">TypeFactoryMap</a>; 
<a name="l00015"></a>00015 
<a name="l00017"></a><a class="code" href="class_entity_1_1_entity_factory.html">00017</a>         <span class="keyword">class </span><a class="code" href="class_entity_1_1_entity_factory.html" title="Base class for all factories in the system. Provides a loadEntity method given an...">EntityFactory</a>
<a name="l00018"></a>00018         {
<a name="l00019"></a><a class="code" href="class_entity_1_1_entity_factory.html#c8e5438321e35520c4088ff6ca4116ee">00019</a>                 <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="class_entity_1_1_loader.html" title="Loader is used by EntityManager. It keeps track of the factories for each type. Types...">Loader</a>;
<a name="l00020"></a><a class="code" href="class_entity_1_1_entity_factory.html#84fe63ec4da031c62ef287775164db22">00020</a>                 <span class="keyword">friend</span> class ::EntityManager;
<a name="l00021"></a>00021         <span class="keyword">protected</span>:
<a name="l00023"></a>00023                 <span class="keyword">virtual</span> <a class="code" href="class_world_entity.html">WorldEntity</a>&amp; <a class="code" href="class_entity_1_1_entity_factory.html#e1bacbc631488f64e142b62fc7f93514" title="Each child class of EntityFactory should implement the way it wishes to load its...">loadEntity</a>(<span class="keyword">const</span> std::string&amp; XMLFilename) = 0;
<a name="l00024"></a>00024                 <span class="keyword">explicit</span> <a class="code" href="class_entity_1_1_entity_factory.html#0354d2f6d0cdff783b50b97f2b65d048">EntityFactory</a>();
<a name="l00025"></a>00025                 <span class="keyword">virtual</span> <a class="code" href="class_entity_1_1_entity_factory.html#a5ad4e79b520cf4d0496c48e4058e5c3">~EntityFactory</a>();
<a name="l00026"></a>00026         };
<a name="l00027"></a>00027 
<a name="l00028"></a>00028 
<a name="l00029"></a><a class="code" href="class_entity_1_1_marker_factory.html">00029</a>         <span class="keyword">class </span><a class="code" href="class_entity_1_1_marker_factory.html">MarkerFactory</a> : <span class="keyword">public</span> <a class="code" href="class_entity_1_1_entity_factory.html" title="Base class for all factories in the system. Provides a loadEntity method given an...">EntityFactory</a>
<a name="l00030"></a>00030         {
<a name="l00031"></a>00031                 <a class="code" href="class_world_entity.html">WorldEntity</a>&amp; <a class="code" href="class_entity_1_1_marker_factory.html#74f9d1ce648a1d2d1e12d44c699a3b4c" title="Each child class of EntityFactory should implement the way it wishes to load its...">loadEntity</a>(<span class="keyword">const</span> std::string&amp; XMLFilename);
<a name="l00032"></a>00032         };
<a name="l00033"></a>00033 
<a name="l00034"></a><a class="code" href="class_entity_1_1_ball_factory.html">00034</a>         <span class="keyword">class </span><a class="code" href="class_entity_1_1_ball_factory.html">BallFactory</a> : <span class="keyword">public</span> <a class="code" href="class_entity_1_1_entity_factory.html" title="Base class for all factories in the system. Provides a loadEntity method given an...">EntityFactory</a>
<a name="l00035"></a>00035         {
<a name="l00036"></a>00036                 <a class="code" href="class_world_entity.html">WorldEntity</a>&amp; <a class="code" href="class_entity_1_1_ball_factory.html#3ae57e75300371d7eab884a10d0028b3" title="Each child class of EntityFactory should implement the way it wishes to load its...">loadEntity</a>(<span class="keyword">const</span> std::string&amp; XMLFilename);
<a name="l00037"></a>00037         };
<a name="l00038"></a>00038 
<a name="l00040"></a><a class="code" href="class_entity_1_1_loader.html">00040</a>         <span class="keyword">class </span><a class="code" href="class_entity_1_1_loader.html" title="Loader is used by EntityManager. It keeps track of the factories for each type. Types...">Loader</a>
<a name="l00041"></a>00041         {
<a name="l00042"></a><a class="code" href="class_entity_1_1_loader.html#84fe63ec4da031c62ef287775164db22">00042</a>                 <span class="keyword">friend</span> class ::EntityManager;
<a name="l00043"></a>00043         <span class="keyword">private</span>:
<a name="l00044"></a><a class="code" href="class_entity_1_1_loader.html#aea3f63c82177317be76837692e507f7">00044</a>                 <a class="code" href="namespace_entity.html#cf602931d8e74e7403b5af795bdd3e9d">TypeFactoryMap</a> <a class="code" href="class_entity_1_1_loader.html#aea3f63c82177317be76837692e507f7">m_FactoryMap</a>; 
<a name="l00045"></a>00045 
<a name="l00046"></a>00046                 <a class="code" href="class_world_entity.html">WorldEntity</a>&amp; <a class="code" href="class_entity_1_1_loader.html#57f9d991256d8ad2ae0c509ca31e3864" title="Creates the worldEntity using the provided factory and returns a reference to it...">loadEntity</a>(<a class="code" href="class_entity_1_1_entity_info.html" title="EntityInfo is a data structure for storing the information about an entity loaded...">EntityInfo</a>* entityInfo);
<a name="l00047"></a>00047 
<a name="l00049"></a>00049                 <a class="code" href="class_entity_1_1_entity_factory.html" title="Base class for all factories in the system. Provides a loadEntity method given an...">EntityFactory</a>* <a class="code" href="class_entity_1_1_loader.html#16daef119d065ec413dcfcb975537481" title="Returns the factory pointer given a type name string. This should be used by EntityManager...">getFactory</a>(<span class="keyword">const</span> std::string&amp; type);
<a name="l00050"></a>00050                 
<a name="l00052"></a>00052                 <span class="keywordtype">bool</span> <a class="code" href="class_entity_1_1_loader.html#6c612adfb9a0fee09a03c975a3964229" title="Registers a factory and type into the Loader. These are hard coded in the EntityManager...">registerFactory</a>(<span class="keyword">const</span> std::string&amp; type, <a class="code" href="class_entity_1_1_entity_factory.html" title="Base class for all factories in the system. Provides a loadEntity method given an...">EntityFactory</a>* factory);
<a name="l00053"></a>00053                 
<a name="l00055"></a>00055                 <span class="keywordtype">bool</span> <span class="keyword">remove</span>(<span class="keyword">const</span> std::string&amp; type);
<a name="l00056"></a>00056 
<a name="l00058"></a>00058                 <span class="keywordtype">void</span> <a class="code" href="class_entity_1_1_loader.html#b9756a289d5344fa846ee57a14f6cd2a" title="Removes all registered factories and frees up their memory.">removeAll</a>();
<a name="l00059"></a>00059 
<a name="l00060"></a>00060                 <a class="code" href="class_entity_1_1_loader.html#674fca3172980a597b7afad7048c1c5f">Loader</a>();
<a name="l00061"></a>00061                 
<a name="l00062"></a>00062                 <a class="code" href="class_entity_1_1_loader.html#97c7ab8fa72a8688f2743aa67791b02f">~Loader</a>();
<a name="l00063"></a>00063 
<a name="l00064"></a>00064 
<a name="l00065"></a>00065         };
<a name="l00066"></a>00066 
<a name="l00067"></a>00067 
<a name="l00068"></a>00068 
<a name="l00070"></a>00070 
<a name="l00074"></a><a class="code" href="class_entity_1_1_entity_info.html">00074</a>         <span class="keyword">class </span><a class="code" href="class_entity_1_1_entity_info.html" title="EntityInfo is a data structure for storing the information about an entity loaded...">EntityInfo</a>{
<a name="l00075"></a><a class="code" href="class_entity_1_1_entity_info.html#84fe63ec4da031c62ef287775164db22">00075</a>                 <span class="keyword">friend</span> class ::EntityManager;
<a name="l00076"></a><a class="code" href="class_entity_1_1_entity_info.html#c8e5438321e35520c4088ff6ca4116ee">00076</a>                 <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="class_entity_1_1_loader.html" title="Loader is used by EntityManager. It keeps track of the factories for each type. Types...">Loader</a>;
<a name="l00077"></a>00077         <span class="keyword">protected</span>:
<a name="l00078"></a><a class="code" href="class_entity_1_1_entity_info.html#f246a848c7b1c35a109f24b64b95e0df">00078</a>                 std::string <a class="code" href="class_entity_1_1_entity_info.html#f246a848c7b1c35a109f24b64b95e0df" title="The name of the Entity.">m_Name</a>; 
<a name="l00079"></a><a class="code" href="class_entity_1_1_entity_info.html#7c321247fa2959adc6ff3b89fb407c7b">00079</a>                 <a class="code" href="class_entity_1_1_entity_factory.html" title="Base class for all factories in the system. Provides a loadEntity method given an...">EntityFactory</a>* <a class="code" href="class_entity_1_1_entity_info.html#7c321247fa2959adc6ff3b89fb407c7b" title="The pointer to the factory for this entity, can be determined by type string.">mp_Factory</a>; 
<a name="l00080"></a><a class="code" href="class_entity_1_1_entity_info.html#96c57ce423886b9d8c768a4b8e819ad9">00080</a>                 std::string <a class="code" href="class_entity_1_1_entity_info.html#96c57ce423886b9d8c768a4b8e819ad9" title="The xml filename the factory will use to instantiate a worldentity.">m_XMLFile</a>; 
<a name="l00081"></a>00081 
<a name="l00082"></a>00082                 <span class="keywordtype">void</span> <a class="code" href="class_entity_1_1_entity_info.html#ea858aa92c191bb7d5b325cd637893b9" title="Releases any memory this entity is taking up so it can be dropped from the system...">destroy</a>(); 
<a name="l00083"></a>00083 
<a name="l00084"></a>00084                 <span class="keyword">friend</span> std::ostream&amp; <a class="code" href="class_entity_1_1_entity_info.html#399eba53160d2f9be47e5e2d19c360f3">operator &lt;&lt; </a>(std::ostream&amp; os, <span class="keyword">const</span> <a class="code" href="class_entity_1_1_entity_info.html" title="EntityInfo is a data structure for storing the information about an entity loaded...">EntityInfo</a>&amp; entityInfo);
<a name="l00085"></a>00085 
<a name="l00086"></a>00086                 <span class="keyword">explicit</span> <a class="code" href="class_entity_1_1_entity_info.html#ea348bb1e666a84b2bd4c260a7ab5ddd">EntityInfo</a>(<span class="keyword">const</span> std::string&amp; sName, <span class="keyword">const</span> std::string&amp; sXMLFile, <a class="code" href="class_entity_1_1_entity_factory.html" title="Base class for all factories in the system. Provides a loadEntity method given an...">EntityFactory</a>* p_Factory);
<a name="l00087"></a>00087 
<a name="l00088"></a>00088                 <a class="code" href="class_entity_1_1_entity_info.html#ea348bb1e666a84b2bd4c260a7ab5ddd">EntityInfo</a>(<span class="keyword">const</span> <a class="code" href="class_entity_1_1_entity_info.html" title="EntityInfo is a data structure for storing the information about an entity loaded...">EntityInfo</a>&amp; rhs);
<a name="l00089"></a>00089 
<a name="l00090"></a>00090                 <a class="code" href="class_entity_1_1_entity_info.html" title="EntityInfo is a data structure for storing the information about an entity loaded...">EntityInfo</a>&amp; <a class="code" href="class_entity_1_1_entity_info.html#ffb0be12faf620ed04e628573fe3f403">operator=</a>(<span class="keyword">const</span> <a class="code" href="class_entity_1_1_entity_info.html" title="EntityInfo is a data structure for storing the information about an entity loaded...">EntityInfo</a>&amp; rhs);
<a name="l00091"></a>00091 
<a name="l00092"></a>00092                 <a class="code" href="class_entity_1_1_entity_info.html#0ba549f7406f97de7ee599f6dfe1cc84">~EntityInfo</a>();
<a name="l00093"></a>00093         <span class="keyword">public</span>:
<a name="l00094"></a>00094                 
<a name="l00095"></a>00095                 <span class="keyword">const</span> std::string&amp; <a class="code" href="class_entity_1_1_entity_info.html#829ec3a13f04201a7ca5d84443307e87" title="Returns the name this entity is referred to by.">getName</a>() <span class="keyword">const</span>; 
<a name="l00096"></a>00096         };
<a name="l00097"></a>00097 
<a name="l00098"></a><a class="code" href="namespace_entity.html#e914bd0f28e0c5c08efe199d7571b752">00098</a>         <span class="keyword">typedef</span> std::map&lt;std::string, EntityInfo*&gt; <a class="code" href="namespace_entity.html#e914bd0f28e0c5c08efe199d7571b752">StrEntityMap</a>; 
<a name="l00099"></a>00099 
<a name="l00100"></a><a class="code" href="namespace_entity.html#a8431d593221e4b8ba952f6803390703">00100</a>         <span class="keyword">typedef</span> std::map&lt;int, WorldEntity*&gt; <a class="code" href="namespace_entity.html#a8431d593221e4b8ba952f6803390703">IdEntityMap</a>;
<a name="l00101"></a>00101 
<a name="l00102"></a><a class="code" href="class_entity_1_1_entity_creation_failed.html">00102</a>         <span class="keyword">class </span><a class="code" href="class_entity_1_1_entity_creation_failed.html">EntityCreationFailed</a> { <span class="comment">/* Thrown if entity creation failed. */</span> };
<a name="l00103"></a><a class="code" href="class_entity_1_1_entity_doesnt_exist.html">00103</a>         <span class="keyword">class </span><a class="code" href="class_entity_1_1_entity_doesnt_exist.html">EntityDoesntExist</a> { <span class="comment">/* Thrown if an entity was assumed to have existed but was not found. */</span> };
<a name="l00104"></a>00104         <span class="comment">//end namespace Entity</span>
<a name="l00105"></a>00105 };
<a name="l00107"></a><a class="code" href="class_entity_manager.html">00107</a> <span class="keyword">class </span><a class="code" href="class_entity_manager.html" title="EntityManager provides an easy and organized way of retrieving entities that were...">EntityManager</a> :
<a name="l00108"></a>00108         <span class="keyword">public</span> <a class="code" href="class_c_singleton.html" title="The CSingleton class is a template class for creating singleton objects.">CSingleton</a>&lt;EntityManager&gt;{
<a name="l00109"></a>00109 <span class="keyword">private</span>:
<a name="l00110"></a>00110 
<a name="l00111"></a><a class="code" href="class_entity_manager.html#65f5e8c10d8438729ea82f885a76c749">00111</a>         <a class="code" href="class_entity_1_1_loader.html" title="Loader is used by EntityManager. It keeps track of the factories for each type. Types...">Entity::Loader</a> <a class="code" href="class_entity_manager.html#65f5e8c10d8438729ea82f885a76c749">m_Loader</a>;
<a name="l00112"></a><a class="code" href="class_entity_manager.html#f972b9aa1ffb131ed5214c6395ad68e6">00112</a>         <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="class_entity_manager.html#f972b9aa1ffb131ed5214c6395ad68e6" title="Next available ID to assign to the next WorldEntity that is instantiatated.">next_ID</a>; 
<a name="l00113"></a>00113 
<a name="l00114"></a><a class="code" href="class_entity_manager.html#e6094224a3288644d93f44948724fc26">00114</a>         <a class="code" href="namespace_entity.html#e914bd0f28e0c5c08efe199d7571b752">Entity::StrEntityMap</a> <a class="code" href="class_entity_manager.html#e6094224a3288644d93f44948724fc26" title="Maps strings to Entity objects.">m_EntityMap</a>; 
<a name="l00115"></a>00115 
<a name="l00116"></a><a class="code" href="class_entity_manager.html#02684740d7947cc2782cba738bfe8cff">00116</a>         <a class="code" href="namespace_entity.html#a8431d593221e4b8ba952f6803390703">Entity::IdEntityMap</a> <a class="code" href="class_entity_manager.html#02684740d7947cc2782cba738bfe8cff" title="Maps integers to instantiated world entities.">m_IdEntityMap</a>; 
<a name="l00117"></a>00117 
<a name="l00118"></a><a class="code" href="class_entity_manager.html#e402f5c0e56f7c09b8b17ed8750b1081">00118</a>         Entity::IdEntityMap::iterator <a class="code" href="class_entity_manager.html#e402f5c0e56f7c09b8b17ed8750b1081" title="An iterator for the id entity map.">m_EntityItr</a>; 
<a name="l00119"></a>00119 
<a name="l00120"></a>00120 
<a name="l00121"></a>00121         <a class="code" href="class_entity_manager.html#7555637657d090171be6ceee8451de0a">EntityManager</a>();
<a name="l00122"></a>00122         <a class="code" href="class_entity_manager.html#71a36c9fb8d579a1a1ec108e0fccf175">~EntityManager</a>();
<a name="l00123"></a>00123         <a class="code" href="class_entity_manager.html#7555637657d090171be6ceee8451de0a">EntityManager</a>(<span class="keyword">const</span> <a class="code" href="class_entity_manager.html" title="EntityManager provides an easy and organized way of retrieving entities that were...">EntityManager</a>&amp; rhs);
<a name="l00124"></a>00124         <a class="code" href="class_entity_manager.html" title="EntityManager provides an easy and organized way of retrieving entities that were...">EntityManager</a>&amp; <a class="code" href="class_entity_manager.html#20ae6c629c6028465f669e92e7c24687">operator=</a>(<span class="keyword">const</span> <a class="code" href="class_entity_manager.html" title="EntityManager provides an easy and organized way of retrieving entities that were...">EntityManager</a>&amp; rhs);
<a name="l00125"></a>00125 <span class="keyword">public</span>:
<a name="l00126"></a><a class="code" href="class_entity_manager.html#eaeec29cf73f1d3aab004d65498af94b">00126</a>         <span class="keyword">friend</span> <a class="code" href="class_c_singleton.html" title="The CSingleton class is a template class for creating singleton objects.">CSingleton&lt;EntityManager&gt;</a>;
<a name="l00127"></a>00127 
<a name="l00129"></a>00129         <span class="keywordtype">bool</span> <a class="code" href="class_entity_manager.html#52ecdb78de6f3ac7ec75629df546e90f" title="Initialize the Entity system. Provide the filename of the XML file that has the global...">init</a>(<span class="keyword">const</span> std::string&amp; XMLEntityDefinition); 
<a name="l00130"></a>00130 
<a name="l00132"></a>00132         <span class="keywordtype">bool</span> <a class="code" href="class_entity_manager.html#1d1254a497aeaecddd512db6b76582cd" title="Add new entity definitions. This function is the same as init in that it loads in...">addNewDefinitions</a>(<span class="keyword">const</span> std::string&amp; XMLEntityDefinition);
<a name="l00133"></a>00133 
<a name="l00134"></a>00134         <span class="keywordtype">void</span> <a class="code" href="class_entity_manager.html#38bbb81e997e7adf2f8ecbb183355a0d" title="shutdown any resources used by the EntityManager.">shutdown</a>();  
<a name="l00135"></a>00135 
<a name="l00137"></a>00137         <a class="code" href="class_world_entity.html">WorldEntity</a>&amp; <a class="code" href="class_entity_manager.html#a6f5279851fc4362a9baed5b4d6a1e9f" title="Retrieves the entity information for an entity named by the given string. Loads this...">createEntity</a>(<span class="keyword">const</span> std::string name); 
<a name="l00138"></a>00138         
<a name="l00140"></a>00140         <span class="keywordtype">bool</span> <span class="keyword">remove</span>(<span class="keyword">const</span> <span class="keywordtype">int</span> entityID);
<a name="l00141"></a>00141 
<a name="l00143"></a>00143         <span class="keywordtype">void</span> <a class="code" href="class_entity_manager.html#1acff1aa6c224e4755cf67a3163c4677" title="Deletes all currently instantiated entities. This would be ideal for moving from...">removeAll</a>();
<a name="l00144"></a>00144 
<a name="l00146"></a>00146         <a class="code" href="class_world_entity.html">WorldEntity</a>&amp; <a class="code" href="class_entity_manager.html#9a9d41e3827f73062a2d5d5f7e7beafa" title="Returns a reference to an already instantiated WorldEntity object given it&amp;#39;s...">getEntity</a>(<span class="keyword">const</span> <span class="keywordtype">int</span> entityID);
<a name="l00147"></a>00147 
<a name="l00148"></a>00148 };
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Mar 7 13:12:58 2008 for Bouncibility by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
