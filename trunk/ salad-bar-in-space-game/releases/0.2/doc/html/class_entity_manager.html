<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Bouncibility: EntityManager Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>EntityManager Class Reference</h1><!-- doxytag: class="EntityManager" --><!-- doxytag: inherits="CSingleton&lt; EntityManager &gt;" --><a class="el" href="class_entity_manager.html" title="EntityManager provides an easy and organized way of retrieving entities that were...">EntityManager</a> provides an easy and organized way of retrieving entities that were defined via an XML file. It loads in the given XML file for the global defintion of entities. Given an entity string name, it will then provide an instantiation of an <a class="el" href="class_world_entity.html">WorldEntity</a> and keep track of global IDs and will keep track of the deletion of the <a class="el" href="class_world_entity.html">WorldEntity</a>.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="_entity_manager_8h-source.html">EntityManager.h</a>&gt;</code>
<p>
<div class="dynheader">
Inheritance diagram for EntityManager:</div>
<div class="dynsection">
<p><center><img src="class_entity_manager__inherit__graph.png" border="0" usemap="#_entity_manager__inherit__map" alt="Inheritance graph"></center>
<map name="_entity_manager__inherit__map">
<area shape="rect" href="class_c_singleton.html" title="{CSingleton\&lt; EntityManager \&gt;\n|&#45; m_instance\l|+ getSingleton()\l+ getSingletonPtr()\l+ destroy()\l# CSingleton()\l# ~CSingleton()\l&#45; CSingleton()\l}" alt="" coords="11,229,203,389"><area shape="rect" href="class_c_singleton.html" title="The CSingleton class is a template class for creating singleton objects." alt="" coords="41,5,172,165"></map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center></div>
<div class="dynheader">
Collaboration diagram for EntityManager:</div>
<div class="dynsection">
<p><center><img src="class_entity_manager__coll__graph.png" border="0" usemap="#_entity_manager__coll__map" alt="Collaboration graph"></center>
<map name="_entity_manager__coll__map">
<area shape="rect" href="class_c_singleton.html" title="{CSingleton\&lt; EntityManager \&gt;\n|&#45; m_instance\l|+ getSingleton()\l+ getSingletonPtr()\l+ destroy()\l# CSingleton()\l# ~CSingleton()\l&#45; CSingleton()\l}" alt="" coords="113,630,305,790"><area shape="rect" href="class_c_singleton.html" title="The CSingleton class is a template class for creating singleton objects." alt="" coords="5,326,136,486"><area shape="rect" href="class_entity_1_1_loader.html" title="Loader is used by EntityManager. It keeps track of the factories for each type. Types..." alt="" coords="217,6,340,182"></map>
<center><font size="2">[<a target="top" href="graph_legend.html">legend</a>]</font></center></div>

<p>
<a href="class_entity_manager-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_entity_manager.html#52ecdb78de6f3ac7ec75629df546e90f">init</a> (const std::string &amp;XMLEntityDefinition)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Initialize the <a class="el" href="namespace_entity.html" title="namespace containing all Entity related structures used by the EntityManager.">Entity</a> system. Provide the filename of the XML file that has the global definition for entities. XML file should be &lt;Entities&gt;&lt;<a class="el" href="namespace_entity.html" title="namespace containing all Entity related structures used by the EntityManager.">Entity</a> name="something", file="something.xml", type="something" /&gt;&lt;/Entities&gt;.  <a href="#52ecdb78de6f3ac7ec75629df546e90f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_entity_manager.html#1d1254a497aeaecddd512db6b76582cd">addNewDefinitions</a> (const std::string &amp;XMLEntityDefinition)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Add new entity definitions. This function is the same as init in that it loads in the entity definitions. This allows a user of the class to keep different sets of entities in different definitions and only load in parts of them.  <a href="#1d1254a497aeaecddd512db6b76582cd"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_entity_manager.html#38bbb81e997e7adf2f8ecbb183355a0d">shutdown</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">shutdown any resources used by the <a class="el" href="class_entity_manager.html" title="EntityManager provides an easy and organized way of retrieving entities that were...">EntityManager</a>.  <a href="#38bbb81e997e7adf2f8ecbb183355a0d"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_world_entity.html">WorldEntity</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_entity_manager.html#a6f5279851fc4362a9baed5b4d6a1e9f">createEntity</a> (const std::string name)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Retrieves the entity information for an entity named by the given string. Loads this entity with the correct factory and returns a reference to it.  <a href="#a6f5279851fc4362a9baed5b4d6a1e9f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_entity_manager.html#bc7a55948564fb190856c154a1991dc1">remove</a> (const int entityID)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Deletes an entity identified by the given ID number. This can be called to delete an entity since delete should not be called on <a class="el" href="class_world_entity.html">WorldEntity</a>. All Entities will be cleaned up when <a class="el" href="class_entity_manager.html" title="EntityManager provides an easy and organized way of retrieving entities that were...">EntityManager</a> is shutdown.  <a href="#bc7a55948564fb190856c154a1991dc1"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_entity_manager.html#1acff1aa6c224e4755cf67a3163c4677">removeAll</a> ()</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Deletes all currently instantiated entities. This would be ideal for moving from level to level. Even the ball should get deleted because it will also be in the next level's definition.  <a href="#1acff1aa6c224e4755cf67a3163c4677"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_world_entity.html">WorldEntity</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_entity_manager.html#9a9d41e3827f73062a2d5d5f7e7beafa">getEntity</a> (const int entityID)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Returns a reference to an already instantiated <a class="el" href="class_world_entity.html">WorldEntity</a> object given it's ID, NULL if <a class="el" href="class_world_entity.html">WorldEntity</a> with ID does not exist.  <a href="#9a9d41e3827f73062a2d5d5f7e7beafa"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Public Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">friend&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_entity_manager.html#eaeec29cf73f1d3aab004d65498af94b">CSingleton&lt; EntityManager &gt;</a></td></tr>

<tr><td colspan="2"><br><h2>Private Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_entity_manager.html#7555637657d090171be6ceee8451de0a">EntityManager</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_entity_manager.html#71a36c9fb8d579a1a1ec108e0fccf175">~EntityManager</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_entity_manager.html#43ba73f3b0f7d7ba9e052f36b40f25a4">EntityManager</a> (const <a class="el" href="class_entity_manager.html">EntityManager</a> &amp;rhs)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_entity_manager.html">EntityManager</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_entity_manager.html#20ae6c629c6028465f669e92e7c24687">operator=</a> (const <a class="el" href="class_entity_manager.html">EntityManager</a> &amp;rhs)</td></tr>

<tr><td colspan="2"><br><h2>Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="class_entity_1_1_loader.html">Entity::Loader</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_entity_manager.html#65f5e8c10d8438729ea82f885a76c749">m_Loader</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="namespace_entity.html#e914bd0f28e0c5c08efe199d7571b752">Entity::StrEntityMap</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_entity_manager.html#e6094224a3288644d93f44948724fc26">m_EntityMap</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Maps strings to <a class="el" href="namespace_entity.html" title="namespace containing all Entity related structures used by the EntityManager.">Entity</a> objects.  <a href="#e6094224a3288644d93f44948724fc26"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="namespace_entity.html#a8431d593221e4b8ba952f6803390703">Entity::IdEntityMap</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_entity_manager.html#02684740d7947cc2782cba738bfe8cff">m_IdEntityMap</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Maps integers to instantiated world entities.  <a href="#02684740d7947cc2782cba738bfe8cff"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">Entity::IdEntityMap::iterator&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_entity_manager.html#e402f5c0e56f7c09b8b17ed8750b1081">m_EntityItr</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">An iterator for the id entity map.  <a href="#e402f5c0e56f7c09b8b17ed8750b1081"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Static Private Attributes</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">static int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_entity_manager.html#f972b9aa1ffb131ed5214c6395ad68e6">next_ID</a> = 1</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Next available ID to assign to the next <a class="el" href="class_world_entity.html">WorldEntity</a> that is instantiatated.  <a href="#f972b9aa1ffb131ed5214c6395ad68e6"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<a class="el" href="class_entity_manager.html" title="EntityManager provides an easy and organized way of retrieving entities that were...">EntityManager</a> provides an easy and organized way of retrieving entities that were defined via an XML file. It loads in the given XML file for the global defintion of entities. Given an entity string name, it will then provide an instantiation of an <a class="el" href="class_world_entity.html">WorldEntity</a> and keep track of global IDs and will keep track of the deletion of the <a class="el" href="class_world_entity.html">WorldEntity</a>. 
<p>Definition at line <a class="el" href="_entity_manager_8h-source.html#l00107">107</a> of file <a class="el" href="_entity_manager_8h-source.html">EntityManager.h</a>.</p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="7555637657d090171be6ceee8451de0a"></a><!-- doxytag: member="EntityManager::EntityManager" ref="7555637657d090171be6ceee8451de0a" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EntityManager::EntityManager           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_entity_manager_8cpp-source.html#l00174">174</a> of file <a class="el" href="_entity_manager_8cpp-source.html">EntityManager.cpp</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00174"></a>00174                             {
<a name="l00175"></a>00175 
<a name="l00176"></a>00176 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="71a36c9fb8d579a1a1ec108e0fccf175"></a><!-- doxytag: member="EntityManager::~EntityManager" ref="71a36c9fb8d579a1a1ec108e0fccf175" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EntityManager::~EntityManager           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_entity_manager_8cpp-source.html#l00178">178</a> of file <a class="el" href="_entity_manager_8cpp-source.html">EntityManager.cpp</a>.</p>

<p>References <a class="el" href="_entity_manager_8cpp-source.html#l00276">shutdown()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00178"></a>00178                              {
<a name="l00179"></a>00179         this-&gt;<a class="code" href="class_entity_manager.html#38bbb81e997e7adf2f8ecbb183355a0d" title="shutdown any resources used by the EntityManager.">shutdown</a>();
<a name="l00180"></a>00180 }
</pre></div>
<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="class_entity_manager_71a36c9fb8d579a1a1ec108e0fccf175_cgraph.png" border="0" usemap="#class_entity_manager_71a36c9fb8d579a1a1ec108e0fccf175_cgraph_map" alt=""></center>
<map name="class_entity_manager_71a36c9fb8d579a1a1ec108e0fccf175_cgraph_map">
<area shape="rect" href="class_entity_manager.html#38bbb81e997e7adf2f8ecbb183355a0d" title="shutdown any resources used by the EntityManager." alt="" coords="259,31,427,57"><area shape="rect" href="class_entity_1_1_loader.html#b9756a289d5344fa846ee57a14f6cd2a" title="Removes all registered factories and frees up their memory." alt="" coords="477,5,643,32"><area shape="rect" href="class_entity_manager.html#1acff1aa6c224e4755cf67a3163c4677" title="Deletes all currently instantiated entities. This would be ideal for moving from..." alt="" coords="476,56,644,83"></map>
</div>

</div>
</div><p>
<a class="anchor" name="43ba73f3b0f7d7ba9e052f36b40f25a4"></a><!-- doxytag: member="EntityManager::EntityManager" ref="43ba73f3b0f7d7ba9e052f36b40f25a4" args="(const EntityManager &amp;rhs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">EntityManager::EntityManager           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_entity_manager.html">EntityManager</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>rhs</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="20ae6c629c6028465f669e92e7c24687"></a><!-- doxytag: member="EntityManager::operator=" ref="20ae6c629c6028465f669e92e7c24687" args="(const EntityManager &amp;rhs)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_entity_manager.html">EntityManager</a>&amp; EntityManager::operator=           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_entity_manager.html">EntityManager</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>rhs</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [private]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="52ecdb78de6f3ac7ec75629df546e90f"></a><!-- doxytag: member="EntityManager::init" ref="52ecdb78de6f3ac7ec75629df546e90f" args="(const std::string &amp;XMLEntityDefinition)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool EntityManager::init           </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>XMLEntityDefinition</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialize the <a class="el" href="namespace_entity.html" title="namespace containing all Entity related structures used by the EntityManager.">Entity</a> system. Provide the filename of the XML file that has the global definition for entities. XML file should be &lt;Entities&gt;&lt;<a class="el" href="namespace_entity.html" title="namespace containing all Entity related structures used by the EntityManager.">Entity</a> name="something", file="something.xml", type="something" /&gt;&lt;/Entities&gt;. 
<p>

<p>Definition at line <a class="el" href="_entity_manager_8cpp-source.html#l00225">225</a> of file <a class="el" href="_entity_manager_8cpp-source.html">EntityManager.cpp</a>.</p>

<p>References <a class="el" href="_entity_manager_8cpp-source.html#l00120">Entity::Loader::getFactory()</a>, <a class="el" href="_entity_manager_8h-source.html#l00114">m_EntityMap</a>, <a class="el" href="_entity_manager_8h-source.html#l00111">m_Loader</a>, and <a class="el" href="_entity_manager_8cpp-source.html#l00139">Entity::Loader::registerFactory()</a>.</p>

<p>Referenced by <a class="el" href="_level_manager_8cpp-source.html#l00037">LevelManager::init()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00225"></a>00225                                                             {
<a name="l00226"></a>00226         std::cout &lt;&lt; <span class="stringliteral">"loading xml file with name "</span> &lt;&lt; XMLEntityDefinition &lt;&lt; <span class="stringliteral">"\n"</span>;
<a name="l00227"></a>00227         <span class="comment">//Should register all the factories to each type here!!!!</span>
<a name="l00228"></a>00228 
<a name="l00229"></a>00229         this-&gt;<a class="code" href="class_entity_manager.html#65f5e8c10d8438729ea82f885a76c749">m_Loader</a>.<a class="code" href="class_entity_1_1_loader.html#6c612adfb9a0fee09a03c975a3964229" title="Registers a factory and type into the Loader. These are hard coded in the EntityManager...">registerFactory</a>(<span class="stringliteral">"ball"</span>, <span class="keyword">new</span> <a class="code" href="class_entity_1_1_ball_factory.html">Entity::BallFactory</a>());
<a name="l00230"></a>00230 
<a name="l00231"></a>00231         irr::io::IrrXMLReader* xml = irr::io::createIrrXMLReader(XMLEntityDefinition.c_str());
<a name="l00232"></a>00232 
<a name="l00233"></a>00233         <span class="keywordflow">if</span> (!xml){
<a name="l00234"></a>00234                 std::cout &lt;&lt; <span class="stringliteral">"There was an error loading the xml file "</span> &lt;&lt; XMLEntityDefinition &lt;&lt; <span class="stringliteral">".\n"</span>;
<a name="l00235"></a>00235         }
<a name="l00236"></a>00236         <span class="comment">// strings for storing the data we want to get out of the file</span>
<a name="l00237"></a>00237         std::string name;
<a name="l00238"></a>00238         std::string xmlFile;
<a name="l00239"></a>00239         std::string type;
<a name="l00240"></a>00240 
<a name="l00241"></a>00241         <span class="keywordflow">while</span>(xml &amp;&amp; xml-&gt;read())
<a name="l00242"></a>00242         {
<a name="l00243"></a>00243                 <span class="keywordflow">switch</span>(xml-&gt;getNodeType())
<a name="l00244"></a>00244                 {
<a name="l00245"></a>00245                 <span class="keywordflow">case</span> irr::io::EXN_TEXT:
<a name="l00246"></a>00246                         <span class="comment">//No text nodes</span>
<a name="l00247"></a>00247                         <span class="keywordflow">break</span>;
<a name="l00248"></a>00248 
<a name="l00249"></a>00249                 <span class="keywordflow">case</span> irr::io::EXN_ELEMENT:
<a name="l00250"></a>00250                         <span class="keywordflow">if</span> (!strcmp(<span class="stringliteral">"entity"</span>, xml-&gt;getNodeName())){
<a name="l00251"></a>00251                                 <a class="code" href="class_entity_1_1_entity_factory.html" title="Base class for all factories in the system. Provides a loadEntity method given an...">Entity::EntityFactory</a>* factory = <a class="code" href="class_entity_manager.html#65f5e8c10d8438729ea82f885a76c749">m_Loader</a>.<a class="code" href="class_entity_1_1_loader.html#16daef119d065ec413dcfcb975537481" title="Returns the factory pointer given a type name string. This should be used by EntityManager...">getFactory</a>(xml-&gt;getAttributeValue(<span class="stringliteral">"type"</span>));
<a name="l00252"></a>00252                                 <span class="keywordflow">if</span> (factory){
<a name="l00253"></a>00253                                         <a class="code" href="class_entity_1_1_entity_info.html" title="EntityInfo is a data structure for storing the information about an entity loaded...">Entity::EntityInfo</a>* entityInfo = <span class="keyword">new</span> <a class="code" href="class_entity_1_1_entity_info.html" title="EntityInfo is a data structure for storing the information about an entity loaded...">Entity::EntityInfo</a>(xml-&gt;getAttributeValue(<span class="stringliteral">"name"</span>), xml-&gt;getAttributeValue(<span class="stringliteral">"file"</span>), factory);
<a name="l00254"></a>00254                                         <span class="keywordflow">if</span> ((<a class="code" href="class_entity_manager.html#e6094224a3288644d93f44948724fc26" title="Maps strings to Entity objects.">m_EntityMap</a>.insert(make_pair(std::string(xml-&gt;getAttributeValue(<span class="stringliteral">"name"</span>)), entityInfo))).second){
<a name="l00255"></a>00255                                                 std::cout &lt;&lt; <span class="stringliteral">"added entity with name "</span> &lt;&lt; std::string(xml-&gt;getAttributeValue(<span class="stringliteral">"name"</span>)) &lt;&lt; <span class="stringliteral">"\n"</span>;
<a name="l00256"></a>00256 
<a name="l00257"></a>00257                                                 }
<a name="l00258"></a>00258                                                 <span class="keywordflow">else</span>{
<a name="l00259"></a>00259                                                         <a class="code" href="class_entity_manager.html#e6094224a3288644d93f44948724fc26" title="Maps strings to Entity objects.">m_EntityMap</a>.clear();
<a name="l00260"></a>00260                                                         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00261"></a>00261                                                 }
<a name="l00262"></a>00262                                 }
<a name="l00263"></a>00263                                 <span class="keywordflow">else</span>{
<a name="l00264"></a>00264                                         <a class="code" href="class_entity_manager.html#e6094224a3288644d93f44948724fc26" title="Maps strings to Entity objects.">m_EntityMap</a>.clear();
<a name="l00265"></a>00265                                         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00266"></a>00266                                 }
<a name="l00267"></a>00267                                         }
<a name="l00268"></a>00268                                         <span class="keywordflow">break</span>;
<a name="l00269"></a>00269                                 }
<a name="l00270"></a>00270 
<a name="l00271"></a>00271         }
<a name="l00272"></a>00272         <span class="keyword">delete</span> xml;
<a name="l00273"></a>00273         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00274"></a>00274 }
</pre></div>
<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="class_entity_manager_52ecdb78de6f3ac7ec75629df546e90f_cgraph.png" border="0" usemap="#class_entity_manager_52ecdb78de6f3ac7ec75629df546e90f_cgraph_map" alt=""></center>
<map name="class_entity_manager_52ecdb78de6f3ac7ec75629df546e90f_cgraph_map">
<area shape="rect" href="class_entity_1_1_loader.html#16daef119d065ec413dcfcb975537481" title="Returns the factory pointer given a type name string. This should be used by EntityManager..." alt="" coords="197,5,368,32"><area shape="rect" href="class_entity_1_1_loader.html#6c612adfb9a0fee09a03c975a3964229" title="Registers a factory and type into the Loader. These are hard coded in the EntityManager..." alt="" coords="184,56,381,83"></map>
</div>

<p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<p><center><img src="class_entity_manager_52ecdb78de6f3ac7ec75629df546e90f_icgraph.png" border="0" usemap="#class_entity_manager_52ecdb78de6f3ac7ec75629df546e90f_icgraph_map" alt=""></center>
<map name="class_entity_manager_52ecdb78de6f3ac7ec75629df546e90f_icgraph_map">
<area shape="rect" href="class_level_manager.html#3f1ce54834adb960a5b14479fd0a71d7" title="Initialize the LevelManager system. Provide the filename of the XML file that has..." alt="" coords="184,107,309,133"><area shape="rect" href="main_8cpp.html#ee8048628ff2b5c026c9e15acdcaacb8" title="init" alt="" coords="408,81,445,108"><area shape="rect" href="class_level_manager.html#944351c2984b102f0c6da76ffd639eab" title="Reset the system, as if init had just been called." alt="" coords="359,132,495,159"><area shape="rect" href="class_input_1_1_keyboard.html#6c895cc85fb33b082b36231898535857" title="init() should be overridden by the derived class, it is called in registerDevice()..." alt="" coords="545,5,681,32"><area shape="rect" href="class_input_1_1_wiimote.html#0e01345d08e26f5e9d499a453a51ced0" title="init() should be overridden by the derived class, it is called in registerDevice()..." alt="" coords="548,56,679,83"><area shape="rect" href="main_8cpp.html#e66f6b31b5ad750f1fe042a706a4e3d4" title="main" alt="" coords="589,107,637,133"><area shape="rect" href="class_input_manager.html#56c1d32f7d6cd3648526e65709c1b8fa" title="Initialize the input system." alt="" coords="732,56,855,83"></map>
</div>

</div>
</div><p>
<a class="anchor" name="1d1254a497aeaecddd512db6b76582cd"></a><!-- doxytag: member="EntityManager::addNewDefinitions" ref="1d1254a497aeaecddd512db6b76582cd" args="(const std::string &amp;XMLEntityDefinition)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool EntityManager::addNewDefinitions           </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&nbsp;</td>
          <td class="paramname"> <em>XMLEntityDefinition</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Add new entity definitions. This function is the same as init in that it loads in the entity definitions. This allows a user of the class to keep different sets of entities in different definitions and only load in parts of them. 
<p>

<p>Definition at line <a class="el" href="_entity_manager_8cpp-source.html#l00182">182</a> of file <a class="el" href="_entity_manager_8cpp-source.html">EntityManager.cpp</a>.</p>

<p>References <a class="el" href="_entity_manager_8cpp-source.html#l00120">Entity::Loader::getFactory()</a>, <a class="el" href="_entity_manager_8h-source.html#l00114">m_EntityMap</a>, and <a class="el" href="_entity_manager_8h-source.html#l00111">m_Loader</a>.</p>

<p>Referenced by <a class="el" href="_level_manager_8cpp-source.html#l00037">LevelManager::init()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00182"></a>00182                                                                          {
<a name="l00183"></a>00183         irr::io::IrrXMLReader* xml = irr::io::createIrrXMLReader(XMLEntityDefinition.c_str());
<a name="l00184"></a>00184 
<a name="l00185"></a>00185         <span class="comment">// strings for storing the data we want to get out of the file</span>
<a name="l00186"></a>00186         std::string name;
<a name="l00187"></a>00187         std::string xmlFile;
<a name="l00188"></a>00188         std::string type;
<a name="l00189"></a>00189 
<a name="l00190"></a>00190         <span class="keywordflow">while</span>(xml &amp;&amp; xml-&gt;read())
<a name="l00191"></a>00191         {
<a name="l00192"></a>00192                 <span class="keywordflow">switch</span>(xml-&gt;getNodeType())
<a name="l00193"></a>00193                 {
<a name="l00194"></a>00194                 <span class="keywordflow">case</span> irr::io::EXN_TEXT:
<a name="l00195"></a>00195                         <span class="comment">//No text nodes</span>
<a name="l00196"></a>00196                         <span class="keywordflow">break</span>;
<a name="l00197"></a>00197 
<a name="l00198"></a>00198                 <span class="keywordflow">case</span> irr::io::EXN_ELEMENT:
<a name="l00199"></a>00199                         <span class="keywordflow">if</span> (!strcmp(<span class="stringliteral">"entity"</span>, xml-&gt;getNodeName())){
<a name="l00200"></a>00200                                 name = xml-&gt;getAttributeValue(<span class="stringliteral">"name"</span>);
<a name="l00201"></a>00201                                 xmlFile = xml-&gt;getAttributeValue(<span class="stringliteral">"file"</span>);
<a name="l00202"></a>00202                                 type= xml-&gt;getAttributeValue(<span class="stringliteral">"type"</span>);
<a name="l00203"></a>00203                         }
<a name="l00204"></a>00204                         <span class="keywordflow">break</span>;
<a name="l00205"></a>00205                 }
<a name="l00206"></a>00206                 <a class="code" href="class_entity_1_1_entity_factory.html" title="Base class for all factories in the system. Provides a loadEntity method given an...">Entity::EntityFactory</a>* factory = <a class="code" href="class_entity_manager.html#65f5e8c10d8438729ea82f885a76c749">m_Loader</a>.<a class="code" href="class_entity_1_1_loader.html#16daef119d065ec413dcfcb975537481" title="Returns the factory pointer given a type name string. This should be used by EntityManager...">getFactory</a>(type);
<a name="l00207"></a>00207                 <span class="keywordflow">if</span> (factory){
<a name="l00208"></a>00208                         <a class="code" href="class_entity_1_1_entity_info.html" title="EntityInfo is a data structure for storing the information about an entity loaded...">Entity::EntityInfo</a>* entityInfo = <span class="keyword">new</span> <a class="code" href="class_entity_1_1_entity_info.html" title="EntityInfo is a data structure for storing the information about an entity loaded...">Entity::EntityInfo</a>(name, xmlFile, factory);
<a name="l00209"></a>00209                                 <span class="keywordflow">if</span> ((<a class="code" href="class_entity_manager.html#e6094224a3288644d93f44948724fc26" title="Maps strings to Entity objects.">m_EntityMap</a>.insert(make_pair(name, entityInfo))).second){
<a name="l00210"></a>00210 
<a name="l00211"></a>00211                                 }
<a name="l00212"></a>00212                                 <span class="keywordflow">else</span>{
<a name="l00213"></a>00213                                         <a class="code" href="class_entity_manager.html#e6094224a3288644d93f44948724fc26" title="Maps strings to Entity objects.">m_EntityMap</a>.clear();
<a name="l00214"></a>00214                                         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00215"></a>00215                                 }
<a name="l00216"></a>00216                 }
<a name="l00217"></a>00217                 <span class="keywordflow">else</span>{
<a name="l00218"></a>00218                         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00219"></a>00219                 }
<a name="l00220"></a>00220         }
<a name="l00221"></a>00221         <span class="keyword">delete</span> xml;
<a name="l00222"></a>00222         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00223"></a>00223 }
</pre></div>
<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="class_entity_manager_1d1254a497aeaecddd512db6b76582cd_cgraph.png" border="0" usemap="#class_entity_manager_1d1254a497aeaecddd512db6b76582cd_cgraph_map" alt=""></center>
<map name="class_entity_manager_1d1254a497aeaecddd512db6b76582cd_cgraph_map">
<area shape="rect" href="class_entity_1_1_loader.html#16daef119d065ec413dcfcb975537481" title="Returns the factory pointer given a type name string. This should be used by EntityManager..." alt="" coords="276,5,447,32"></map>
</div>

<p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<p><center><img src="class_entity_manager_1d1254a497aeaecddd512db6b76582cd_icgraph.png" border="0" usemap="#class_entity_manager_1d1254a497aeaecddd512db6b76582cd_icgraph_map" alt=""></center>
<map name="class_entity_manager_1d1254a497aeaecddd512db6b76582cd_icgraph_map">
<area shape="rect" href="class_level_manager.html#3f1ce54834adb960a5b14479fd0a71d7" title="Initialize the LevelManager system. Provide the filename of the XML file that has..." alt="" coords="275,107,400,133"><area shape="rect" href="main_8cpp.html#ee8048628ff2b5c026c9e15acdcaacb8" title="init" alt="" coords="499,81,536,108"><area shape="rect" href="class_level_manager.html#944351c2984b102f0c6da76ffd639eab" title="Reset the system, as if init had just been called." alt="" coords="449,132,585,159"><area shape="rect" href="class_input_1_1_keyboard.html#6c895cc85fb33b082b36231898535857" title="init() should be overridden by the derived class, it is called in registerDevice()..." alt="" coords="636,5,772,32"><area shape="rect" href="class_input_1_1_wiimote.html#0e01345d08e26f5e9d499a453a51ced0" title="init() should be overridden by the derived class, it is called in registerDevice()..." alt="" coords="639,56,769,83"><area shape="rect" href="main_8cpp.html#e66f6b31b5ad750f1fe042a706a4e3d4" title="main" alt="" coords="680,107,728,133"><area shape="rect" href="class_input_manager.html#56c1d32f7d6cd3648526e65709c1b8fa" title="Initialize the input system." alt="" coords="823,56,945,83"></map>
</div>

</div>
</div><p>
<a class="anchor" name="38bbb81e997e7adf2f8ecbb183355a0d"></a><!-- doxytag: member="EntityManager::shutdown" ref="38bbb81e997e7adf2f8ecbb183355a0d" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EntityManager::shutdown           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
shutdown any resources used by the <a class="el" href="class_entity_manager.html" title="EntityManager provides an easy and organized way of retrieving entities that were...">EntityManager</a>. 
<p>

<p>Definition at line <a class="el" href="_entity_manager_8cpp-source.html#l00276">276</a> of file <a class="el" href="_entity_manager_8cpp-source.html">EntityManager.cpp</a>.</p>

<p>References <a class="el" href="_entity_manager_8h-source.html#l00114">m_EntityMap</a>, <a class="el" href="_entity_manager_8h-source.html#l00111">m_Loader</a>, <a class="el" href="_entity_manager_8cpp-source.html#l00109">Entity::Loader::removeAll()</a>, and <a class="el" href="_entity_manager_8cpp-source.html#l00318">removeAll()</a>.</p>

<p>Referenced by <a class="el" href="_entity_manager_8cpp-source.html#l00178">~EntityManager()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00276"></a>00276                             {
<a name="l00277"></a>00277         <span class="comment">//Remove all instantiated entities</span>
<a name="l00278"></a>00278         <a class="code" href="class_entity_manager.html#1acff1aa6c224e4755cf67a3163c4677" title="Deletes all currently instantiated entities. This would be ideal for moving from...">removeAll</a>();
<a name="l00279"></a>00279         <span class="comment">//Remove all EntityInfo</span>
<a name="l00280"></a>00280         Entity::StrEntityMap::iterator entityItrEnd = <a class="code" href="class_entity_manager.html#e6094224a3288644d93f44948724fc26" title="Maps strings to Entity objects.">m_EntityMap</a>.end();
<a name="l00281"></a>00281         Entity::StrEntityMap::iterator entityItr;
<a name="l00282"></a>00282         <span class="keywordflow">for</span>(entityItr = <a class="code" href="class_entity_manager.html#e6094224a3288644d93f44948724fc26" title="Maps strings to Entity objects.">m_EntityMap</a>.begin(); entityItr != entityItrEnd; ++entityItr)
<a name="l00283"></a>00283         {
<a name="l00284"></a>00284                 entityItr-&gt;second-&gt;destroy();
<a name="l00285"></a>00285                 <span class="keyword">delete</span> entityItr-&gt;second;
<a name="l00286"></a>00286         }
<a name="l00287"></a>00287 
<a name="l00288"></a>00288         <span class="comment">//Remove everything inside the loader</span>
<a name="l00289"></a>00289         <a class="code" href="class_entity_manager.html#65f5e8c10d8438729ea82f885a76c749">m_Loader</a>.<a class="code" href="class_entity_1_1_loader.html#b9756a289d5344fa846ee57a14f6cd2a" title="Removes all registered factories and frees up their memory.">removeAll</a>();
<a name="l00290"></a>00290 
<a name="l00291"></a>00291         <a class="code" href="class_entity_manager.html#e6094224a3288644d93f44948724fc26" title="Maps strings to Entity objects.">m_EntityMap</a>.clear();
<a name="l00292"></a>00292 }
</pre></div>
<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="class_entity_manager_38bbb81e997e7adf2f8ecbb183355a0d_cgraph.png" border="0" usemap="#class_entity_manager_38bbb81e997e7adf2f8ecbb183355a0d_cgraph_map" alt=""></center>
<map name="class_entity_manager_38bbb81e997e7adf2f8ecbb183355a0d_cgraph_map">
<area shape="rect" href="class_entity_1_1_loader.html#b9756a289d5344fa846ee57a14f6cd2a" title="Removes all registered factories and frees up their memory." alt="" coords="224,5,389,32"><area shape="rect" href="class_entity_manager.html#1acff1aa6c224e4755cf67a3163c4677" title="Deletes all currently instantiated entities. This would be ideal for moving from..." alt="" coords="223,56,391,83"></map>
</div>

<p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<p><center><img src="class_entity_manager_38bbb81e997e7adf2f8ecbb183355a0d_icgraph.png" border="0" usemap="#class_entity_manager_38bbb81e997e7adf2f8ecbb183355a0d_icgraph_map" alt=""></center>
<map name="class_entity_manager_38bbb81e997e7adf2f8ecbb183355a0d_icgraph_map">
<area shape="rect" href="class_entity_manager.html#71a36c9fb8d579a1a1ec108e0fccf175" title="EntityManager::~EntityManager" alt="" coords="221,5,427,32"></map>
</div>

</div>
</div><p>
<a class="anchor" name="a6f5279851fc4362a9baed5b4d6a1e9f"></a><!-- doxytag: member="EntityManager::createEntity" ref="a6f5279851fc4362a9baed5b4d6a1e9f" args="(const std::string name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_world_entity.html">WorldEntity</a> &amp; EntityManager::createEntity           </td>
          <td>(</td>
          <td class="paramtype">const std::string&nbsp;</td>
          <td class="paramname"> <em>name</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Retrieves the entity information for an entity named by the given string. Loads this entity with the correct factory and returns a reference to it. 
<p>

<p>Definition at line <a class="el" href="_entity_manager_8cpp-source.html#l00294">294</a> of file <a class="el" href="_entity_manager_8cpp-source.html">EntityManager.cpp</a>.</p>

<p>References <a class="el" href="_entity_manager_8cpp-source.html#l00131">Entity::Loader::loadEntity()</a>, <a class="el" href="_entity_manager_8h-source.html#l00114">m_EntityMap</a>, and <a class="el" href="_entity_manager_8h-source.html#l00111">m_Loader</a>.</p>

<p>Referenced by <a class="el" href="_level_8cpp-source.html#l00054">Level::load()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00294"></a>00294                                                             {
<a name="l00295"></a>00295         <span class="comment">//Find the Entity in the Str EntityInfo map for this entity name.</span>
<a name="l00296"></a>00296         std::cout &lt;&lt; <span class="stringliteral">"finding entity with name "</span> &lt;&lt; name &lt;&lt; <span class="stringliteral">"\n"</span>;
<a name="l00297"></a>00297         Entity::StrEntityMap::iterator entityItr = <a class="code" href="class_entity_manager.html#e6094224a3288644d93f44948724fc26" title="Maps strings to Entity objects.">m_EntityMap</a>.find(name);
<a name="l00298"></a>00298         <span class="comment">//If the Entity wasn't found, return false</span>
<a name="l00299"></a>00299         <span class="keywordflow">if</span>(entityItr == <a class="code" href="class_entity_manager.html#e6094224a3288644d93f44948724fc26" title="Maps strings to Entity objects.">m_EntityMap</a>.end()){
<a name="l00300"></a>00300                 std::cout &lt;&lt; <span class="stringliteral">"entity not found. throwing exception!\n"</span>;
<a name="l00301"></a>00301                 <span class="keywordflow">throw</span> <a class="code" href="class_entity_1_1_entity_creation_failed.html">Entity::EntityCreationFailed</a>();
<a name="l00302"></a>00302         }
<a name="l00303"></a>00303         <span class="keywordflow">return</span>(<a class="code" href="class_entity_manager.html#65f5e8c10d8438729ea82f885a76c749">m_Loader</a>.<a class="code" href="class_entity_1_1_loader.html#57f9d991256d8ad2ae0c509ca31e3864" title="Creates the worldEntity using the provided factory and returns a reference to it...">loadEntity</a>(entityItr-&gt;second));
<a name="l00304"></a>00304 }
</pre></div>
<p>

<p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dynsection">
<p><center><img src="class_entity_manager_a6f5279851fc4362a9baed5b4d6a1e9f_cgraph.png" border="0" usemap="#class_entity_manager_a6f5279851fc4362a9baed5b4d6a1e9f_cgraph_map" alt=""></center>
<map name="class_entity_manager_a6f5279851fc4362a9baed5b4d6a1e9f_cgraph_map">
<area shape="rect" href="class_entity_1_1_loader.html#57f9d991256d8ad2ae0c509ca31e3864" title="Creates the worldEntity using the provided factory and returns a reference to it..." alt="" coords="237,5,405,32"><area shape="rect" href="class_entity_1_1_entity_factory.html#e1bacbc631488f64e142b62fc7f93514" title="Each child class of EntityFactory should implement the way it wishes to load its..." alt="" coords="453,5,661,32"></map>
</div>

<p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<p><center><img src="class_entity_manager_a6f5279851fc4362a9baed5b4d6a1e9f_icgraph.png" border="0" usemap="#class_entity_manager_a6f5279851fc4362a9baed5b4d6a1e9f_icgraph_map" alt=""></center>
<map name="class_entity_manager_a6f5279851fc4362a9baed5b4d6a1e9f_icgraph_map">
<area shape="rect" href="class_level.html#874bc0b76f9ffd38ad1b6a3289e64b28" title="Load the level from the given xml definition. Loads in all entities from the EntityManager..." alt="" coords="237,56,320,83"><area shape="rect" href="class_level_manager.html#aa571c209f5db748d24d9c16968f7c17" title="Go to the next level. Handles the updating of UserInterface, etc. Returns false if..." alt="" coords="372,6,535,32"><area shape="rect" href="class_level_manager.html#88973f5a755e051a86661ed99d6e688b" title="Repeat the current level, re&#45;initializing all the variables to what they were at..." alt="" coords="381,56,525,83"><area shape="rect" href="class_level_manager.html#5d39fdf1f272ccfb5a8fb898a970e2c4" title="LevelManager::startGame" alt="" coords="369,107,537,134"><area shape="rect" href="main_8cpp.html#ee8048628ff2b5c026c9e15acdcaacb8" title="init" alt="" coords="588,107,625,134"><area shape="rect" href="class_input_1_1_keyboard.html#6c895cc85fb33b082b36231898535857" title="init() should be overridden by the derived class, it is called in registerDevice()..." alt="" coords="676,31,812,58"><area shape="rect" href="class_input_1_1_wiimote.html#0e01345d08e26f5e9d499a453a51ced0" title="init() should be overridden by the derived class, it is called in registerDevice()..." alt="" coords="679,82,809,108"><area shape="rect" href="main_8cpp.html#e66f6b31b5ad750f1fe042a706a4e3d4" title="main" alt="" coords="720,132,768,159"><area shape="rect" href="class_input_manager.html#56c1d32f7d6cd3648526e65709c1b8fa" title="Initialize the input system." alt="" coords="863,82,985,108"></map>
</div>

</div>
</div><p>
<a class="anchor" name="bc7a55948564fb190856c154a1991dc1"></a><!-- doxytag: member="EntityManager::remove" ref="bc7a55948564fb190856c154a1991dc1" args="(const int entityID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool EntityManager::remove           </td>
          <td>(</td>
          <td class="paramtype">const int&nbsp;</td>
          <td class="paramname"> <em>entityID</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Deletes an entity identified by the given ID number. This can be called to delete an entity since delete should not be called on <a class="el" href="class_world_entity.html">WorldEntity</a>. All Entities will be cleaned up when <a class="el" href="class_entity_manager.html" title="EntityManager provides an easy and organized way of retrieving entities that were...">EntityManager</a> is shutdown. 
<p>

<p>Definition at line <a class="el" href="_entity_manager_8cpp-source.html#l00306">306</a> of file <a class="el" href="_entity_manager_8cpp-source.html">EntityManager.cpp</a>.</p>

<p>References <a class="el" href="_entity_manager_8h-source.html#l00118">m_EntityItr</a>, and <a class="el" href="_entity_manager_8h-source.html#l00116">m_IdEntityMap</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00306"></a>00306                                             {
<a name="l00307"></a>00307         <span class="comment">//Find the Entity in the ID map for this entityID.</span>
<a name="l00308"></a>00308         <a class="code" href="class_entity_manager.html#e402f5c0e56f7c09b8b17ed8750b1081" title="An iterator for the id entity map.">m_EntityItr</a> = <a class="code" href="class_entity_manager.html#02684740d7947cc2782cba738bfe8cff" title="Maps integers to instantiated world entities.">m_IdEntityMap</a>.find(entityID);
<a name="l00309"></a>00309         <span class="comment">//If the Entity wasn't found, return false</span>
<a name="l00310"></a>00310         <span class="keywordflow">if</span>(<a class="code" href="class_entity_manager.html#e402f5c0e56f7c09b8b17ed8750b1081" title="An iterator for the id entity map.">m_EntityItr</a> == <a class="code" href="class_entity_manager.html#02684740d7947cc2782cba738bfe8cff" title="Maps integers to instantiated world entities.">m_IdEntityMap</a>.end())
<a name="l00311"></a>00311                 <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00312"></a>00312 
<a name="l00313"></a>00313         <span class="keyword">delete</span> <a class="code" href="class_entity_manager.html#e402f5c0e56f7c09b8b17ed8750b1081" title="An iterator for the id entity map.">m_EntityItr</a>-&gt;second;
<a name="l00314"></a>00314         <a class="code" href="class_entity_manager.html#02684740d7947cc2782cba738bfe8cff" title="Maps integers to instantiated world entities.">m_IdEntityMap</a>.erase(<a class="code" href="class_entity_manager.html#e402f5c0e56f7c09b8b17ed8750b1081" title="An iterator for the id entity map.">m_EntityItr</a>);
<a name="l00315"></a>00315         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00316"></a>00316 }
</pre></div>
<p>

</div>
</div><p>
<a class="anchor" name="1acff1aa6c224e4755cf67a3163c4677"></a><!-- doxytag: member="EntityManager::removeAll" ref="1acff1aa6c224e4755cf67a3163c4677" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EntityManager::removeAll           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Deletes all currently instantiated entities. This would be ideal for moving from level to level. Even the ball should get deleted because it will also be in the next level's definition. 
<p>

<p>Definition at line <a class="el" href="_entity_manager_8cpp-source.html#l00318">318</a> of file <a class="el" href="_entity_manager_8cpp-source.html">EntityManager.cpp</a>.</p>

<p>References <a class="el" href="_entity_manager_8h-source.html#l00118">m_EntityItr</a>, and <a class="el" href="_entity_manager_8h-source.html#l00116">m_IdEntityMap</a>.</p>

<p>Referenced by <a class="el" href="_entity_manager_8cpp-source.html#l00276">shutdown()</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00318"></a>00318                              {
<a name="l00319"></a>00319         Entity::IdEntityMap::iterator entityItrEnd = <a class="code" href="class_entity_manager.html#02684740d7947cc2782cba738bfe8cff" title="Maps integers to instantiated world entities.">m_IdEntityMap</a>.end();
<a name="l00320"></a>00320         <span class="keywordflow">for</span>(<a class="code" href="class_entity_manager.html#e402f5c0e56f7c09b8b17ed8750b1081" title="An iterator for the id entity map.">m_EntityItr</a> = <a class="code" href="class_entity_manager.html#02684740d7947cc2782cba738bfe8cff" title="Maps integers to instantiated world entities.">m_IdEntityMap</a>.begin(); <a class="code" href="class_entity_manager.html#e402f5c0e56f7c09b8b17ed8750b1081" title="An iterator for the id entity map.">m_EntityItr</a> != entityItrEnd; ++<a class="code" href="class_entity_manager.html#e402f5c0e56f7c09b8b17ed8750b1081" title="An iterator for the id entity map.">m_EntityItr</a>)
<a name="l00321"></a>00321         {
<a name="l00322"></a>00322                 <span class="keyword">delete</span> <a class="code" href="class_entity_manager.html#e402f5c0e56f7c09b8b17ed8750b1081" title="An iterator for the id entity map.">m_EntityItr</a>-&gt;second;
<a name="l00323"></a>00323         }
<a name="l00324"></a>00324         <a class="code" href="class_entity_manager.html#02684740d7947cc2782cba738bfe8cff" title="Maps integers to instantiated world entities.">m_IdEntityMap</a>.clear();
<a name="l00325"></a>00325 }
</pre></div>
<p>

<p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dynsection">
<p><center><img src="class_entity_manager_1acff1aa6c224e4755cf67a3163c4677_icgraph.png" border="0" usemap="#class_entity_manager_1acff1aa6c224e4755cf67a3163c4677_icgraph_map" alt=""></center>
<map name="class_entity_manager_1acff1aa6c224e4755cf67a3163c4677_icgraph_map">
<area shape="rect" href="class_entity_manager.html#38bbb81e997e7adf2f8ecbb183355a0d" title="shutdown any resources used by the EntityManager." alt="" coords="224,5,392,32"><area shape="rect" href="class_entity_manager.html#71a36c9fb8d579a1a1ec108e0fccf175" title="EntityManager::~EntityManager" alt="" coords="440,5,645,32"></map>
</div>

</div>
</div><p>
<a class="anchor" name="9a9d41e3827f73062a2d5d5f7e7beafa"></a><!-- doxytag: member="EntityManager::getEntity" ref="9a9d41e3827f73062a2d5d5f7e7beafa" args="(const int entityID)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_world_entity.html">WorldEntity</a> &amp; EntityManager::getEntity           </td>
          <td>(</td>
          <td class="paramtype">const int&nbsp;</td>
          <td class="paramname"> <em>entityID</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Returns a reference to an already instantiated <a class="el" href="class_world_entity.html">WorldEntity</a> object given it's ID, NULL if <a class="el" href="class_world_entity.html">WorldEntity</a> with ID does not exist. 
<p>

<p>Definition at line <a class="el" href="_entity_manager_8cpp-source.html#l00327">327</a> of file <a class="el" href="_entity_manager_8cpp-source.html">EntityManager.cpp</a>.</p>

<p>References <a class="el" href="_entity_manager_8h-source.html#l00118">m_EntityItr</a>, and <a class="el" href="_entity_manager_8h-source.html#l00116">m_IdEntityMap</a>.</p>
<div class="fragment"><pre class="fragment"><a name="l00327"></a>00327                                                        {
<a name="l00328"></a>00328         <span class="comment">//Find the entity in the ID map for this entityID</span>
<a name="l00329"></a>00329         <a class="code" href="class_entity_manager.html#e402f5c0e56f7c09b8b17ed8750b1081" title="An iterator for the id entity map.">m_EntityItr</a> = <a class="code" href="class_entity_manager.html#02684740d7947cc2782cba738bfe8cff" title="Maps integers to instantiated world entities.">m_IdEntityMap</a>.find(entityID);
<a name="l00330"></a>00330         <span class="comment">//If the Entity wasn't found, return NULL</span>
<a name="l00331"></a>00331         <span class="keywordflow">if</span> (<a class="code" href="class_entity_manager.html#e402f5c0e56f7c09b8b17ed8750b1081" title="An iterator for the id entity map.">m_EntityItr</a> == <a class="code" href="class_entity_manager.html#02684740d7947cc2782cba738bfe8cff" title="Maps integers to instantiated world entities.">m_IdEntityMap</a>.end())
<a name="l00332"></a>00332                 <span class="keywordflow">throw</span> <a class="code" href="class_entity_1_1_entity_doesnt_exist.html">Entity::EntityDoesntExist</a>();
<a name="l00333"></a>00333         <span class="keywordflow">return</span> *(<a class="code" href="class_entity_manager.html#e402f5c0e56f7c09b8b17ed8750b1081" title="An iterator for the id entity map.">m_EntityItr</a>-&gt;second);
<a name="l00334"></a>00334 }
</pre></div>
<p>

</div>
</div><p>
<hr><h2>Member Data Documentation</h2>
<a class="anchor" name="65f5e8c10d8438729ea82f885a76c749"></a><!-- doxytag: member="EntityManager::m_Loader" ref="65f5e8c10d8438729ea82f885a76c749" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="class_entity_1_1_loader.html">Entity::Loader</a> <a class="el" href="class_entity_manager.html#65f5e8c10d8438729ea82f885a76c749">EntityManager::m_Loader</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_entity_manager_8h-source.html#l00111">111</a> of file <a class="el" href="_entity_manager_8h-source.html">EntityManager.h</a>.</p>

<p>Referenced by <a class="el" href="_entity_manager_8cpp-source.html#l00182">addNewDefinitions()</a>, <a class="el" href="_entity_manager_8cpp-source.html#l00294">createEntity()</a>, <a class="el" href="_entity_manager_8cpp-source.html#l00225">init()</a>, and <a class="el" href="_entity_manager_8cpp-source.html#l00276">shutdown()</a>.</p>

</div>
</div><p>
<a class="anchor" name="f972b9aa1ffb131ed5214c6395ad68e6"></a><!-- doxytag: member="EntityManager::next_ID" ref="f972b9aa1ffb131ed5214c6395ad68e6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int <a class="el" href="class_entity_manager.html#f972b9aa1ffb131ed5214c6395ad68e6">EntityManager::next_ID</a> = 1<code> [static, private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Next available ID to assign to the next <a class="el" href="class_world_entity.html">WorldEntity</a> that is instantiatated. 
<p>

<p>Definition at line <a class="el" href="_entity_manager_8h-source.html#l00112">112</a> of file <a class="el" href="_entity_manager_8h-source.html">EntityManager.h</a>.</p>

</div>
</div><p>
<a class="anchor" name="e6094224a3288644d93f44948724fc26"></a><!-- doxytag: member="EntityManager::m_EntityMap" ref="e6094224a3288644d93f44948724fc26" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_entity.html#e914bd0f28e0c5c08efe199d7571b752">Entity::StrEntityMap</a> <a class="el" href="class_entity_manager.html#e6094224a3288644d93f44948724fc26">EntityManager::m_EntityMap</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Maps strings to <a class="el" href="namespace_entity.html" title="namespace containing all Entity related structures used by the EntityManager.">Entity</a> objects. 
<p>

<p>Definition at line <a class="el" href="_entity_manager_8h-source.html#l00114">114</a> of file <a class="el" href="_entity_manager_8h-source.html">EntityManager.h</a>.</p>

<p>Referenced by <a class="el" href="_entity_manager_8cpp-source.html#l00182">addNewDefinitions()</a>, <a class="el" href="_entity_manager_8cpp-source.html#l00294">createEntity()</a>, <a class="el" href="_entity_manager_8cpp-source.html#l00225">init()</a>, and <a class="el" href="_entity_manager_8cpp-source.html#l00276">shutdown()</a>.</p>

</div>
</div><p>
<a class="anchor" name="02684740d7947cc2782cba738bfe8cff"></a><!-- doxytag: member="EntityManager::m_IdEntityMap" ref="02684740d7947cc2782cba738bfe8cff" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespace_entity.html#a8431d593221e4b8ba952f6803390703">Entity::IdEntityMap</a> <a class="el" href="class_entity_manager.html#02684740d7947cc2782cba738bfe8cff">EntityManager::m_IdEntityMap</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Maps integers to instantiated world entities. 
<p>

<p>Definition at line <a class="el" href="_entity_manager_8h-source.html#l00116">116</a> of file <a class="el" href="_entity_manager_8h-source.html">EntityManager.h</a>.</p>

<p>Referenced by <a class="el" href="_entity_manager_8cpp-source.html#l00327">getEntity()</a>, <a class="el" href="_entity_manager_8cpp-source.html#l00306">remove()</a>, and <a class="el" href="_entity_manager_8cpp-source.html#l00318">removeAll()</a>.</p>

</div>
</div><p>
<a class="anchor" name="e402f5c0e56f7c09b8b17ed8750b1081"></a><!-- doxytag: member="EntityManager::m_EntityItr" ref="e402f5c0e56f7c09b8b17ed8750b1081" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Entity::IdEntityMap::iterator <a class="el" href="class_entity_manager.html#e402f5c0e56f7c09b8b17ed8750b1081">EntityManager::m_EntityItr</a><code> [private]</code>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
An iterator for the id entity map. 
<p>

<p>Definition at line <a class="el" href="_entity_manager_8h-source.html#l00118">118</a> of file <a class="el" href="_entity_manager_8h-source.html">EntityManager.h</a>.</p>

<p>Referenced by <a class="el" href="_entity_manager_8cpp-source.html#l00327">getEntity()</a>, <a class="el" href="_entity_manager_8cpp-source.html#l00306">remove()</a>, and <a class="el" href="_entity_manager_8cpp-source.html#l00318">removeAll()</a>.</p>

</div>
</div><p>
<a class="anchor" name="eaeec29cf73f1d3aab004d65498af94b"></a><!-- doxytag: member="EntityManager::CSingleton&lt; EntityManager &gt;" ref="eaeec29cf73f1d3aab004d65498af94b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">friend EntityManager::CSingleton&lt; <a class="el" href="class_entity_manager.html">EntityManager</a> &gt;          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>Definition at line <a class="el" href="_entity_manager_8h-source.html#l00126">126</a> of file <a class="el" href="_entity_manager_8h-source.html">EntityManager.h</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following files:<ul>
<li>C:/Users/chase/Desktop/game2/edge/bouncibility/include/<a class="el" href="_entity_manager_8h-source.html">EntityManager.h</a><li>C:/Users/chase/Desktop/game2/edge/bouncibility/src/<a class="el" href="_entity_manager_8cpp-source.html">EntityManager.cpp</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri Mar 7 13:12:58 2008 for Bouncibility by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
